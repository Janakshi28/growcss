<link rel="import" href="../../polymer/polymer.html"><link rel="import" href="../event-emitter-behavior/event-emitter-behavior.html"><link rel="import" href="../../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><!--
    <modal-behavior>`element <text>.

    Example:
        <modal-behavior></modal-behavior>

    @element modal-behavior
    @demo demo/index.html
--><script>"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),GrowCssModal=function(a){function b(a,c){_classCallCheck(this,b);var d=_possibleConstructorReturn(this,Object.getPrototypeOf(b).call(this));d.element=a,d.options=c;var e=document.querySelector("."+d._namespacify("overlay"));return null===e&&(e=d._createOverlay(),document.querySelector("body").appendChild(e)),d.element.classList.add(d._namespacify("is","initialized")),d.element.classList.add(d._namespacify("is","closed")),d.element.classList.add(d.options.namespace),d.element.setAttribute("aria-hidden","true"),d._setStyles(d.element,{visibility:"hidden"}),d.element.setAttribute("tabindex","-1"),d._createCloseButton(),d._addModalEventlistners(),d._addClickListnersOnOpenButtons(),d}return _inherits(b,a),_createClass(b,[{key:"open",value:function(a){var b=document.getElementById(a),c=document.querySelector("."+this._namespacify("overlay"));b.classList.remove(this._namespacify("is","closed")),b.classList.add(this._namespacify("is","opened")),b.setAttribute("aria-hidden","false"),this._setStyles(b,{visibility:"visible"}),c.classList.remove(this._namespacify("is","closed")),c.classList.add(this._namespacify("is","opened")),this._setStyles(c,{display:"block"}),b.focus(),window.location.hash=a,this.fire(this._namespacify("is","opened"))}},{key:"close",value:function(){var a=document.querySelector("."+this.options.namespace+"."+this._namespacify("is","opened")),b=document.querySelector("."+this._namespacify("overlay")+"."+this._namespacify("is","opened"));a.classList.remove(this._namespacify("is","opened")),a.classList.add(this._namespacify("is","closed")),a.setAttribute("aria-hidden","true"),this._setStyles(a,{visibility:"hidden"}),b.classList.remove(this._namespacify("is","opened")),b.classList.add(this._namespacify("is","closed")),this._setStyles(b,{display:"none"}),this.state="closed",this.fire(this._namespacify("is","closed"))}},{key:"destroy",value:function(){}},{key:"_addModalEventlistners",value:function(){var a=this,b=this.element.querySelector("."+this.options.namespace+".close"),c=this.element.querySelector("."+this.options.namespace+".cancel"),d=this.element.querySelector("."+this.options.namespace+".confirm"),e=document.querySelector("."+this._namespacify("overlay"));b.addEventListener("click",function(b){b.preventDefault(),a.close()}),c&&c.addEventListener("click",function(b){b.preventDefault(),a.fire(a._namespacify("confirmation")),a.options.closeOnCancel&&a.close()}),d&&d.addEventListener("click",function(b){b.preventDefault(),a.fire(a._namespacify("cancellation")),a.options.closeOnConfirm&&a.close()}),e.addEventListener("click",function(b){var c=b.target;c.classList.contains(a._namespacify("is","opened"))&&a.options.closeOnOutsideClick&&a.close()})}},{key:"_addClickListnersOnOpenButtons",value:function(){for(var a=this,b=document.querySelectorAll("."+this.options.namespace+".open"),c=b.length-1;c>=0;c--)b[c].addEventListener("click",function(b){var c=b.target,d=c.getAttribute(a._namespacify("traget")),e=void 0;e="undefined"!==d?d:c.getAttribute("href"),a.open(e)})}},{key:"_createCloseButton",value:function(){var a=this.element.querySelector("."+this.options.namespace+".close");if(null===a){var b=document.createElement("button");b.classList.add(this.options.namespace),b.classList.add("close"),b.innerHTML="x",this.element.appendChild(b)}}},{key:"_createOverlay",value:function(){var a={display:"none"},b=document.createElement("div");return this._setStyles(b,a),b.classList.add(this.options.namespace),b.classList.add(this._namespacify("overlay")),b.classList.add(this._namespacify("is","closed")),b}},{key:"_namespacify",value:function(){for(var a=this.options.namespace,b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];for(var e=0;e<c.length;++e)a+="-"+c[e];return a}},{key:"_setStyles",value:function(a,b){var c=a;for(var d in b)b.hasOwnProperty(d)&&(c.style[d]=b[d])}}]),b}(GrowCssEventEmitter);
  "use strict";var GrowCss=GrowCss||{},GcModal={properties:{closeOnConfirm:{type:Boolean,value:!0},closeOnCancel:{type:Boolean,value:!0},closeOnEscape:{type:Boolean,value:!0},closeOnOutsideClick:{type:Boolean,value:!0},"modal-namespace":{type:String,value:"growcss-modal"}},keyBindings:{esc:"_close"},_close:function(){this.modal.close()},getModal:function(a){var b=new GrowCssModal(a,{namespace:this["modal-namespace"],closeOnConfirm:this.closeOnConfirm,closeOnCancel:this.closeOnCancel,closeOnEscape:this.closeOnEscape,closeOnOutsideClick:this.closeOnOutsideClick});return this.modal=b,b}};GrowCss.ModalBehavior=[Polymer.IronA11yKeysBehavior,GrowCss.EventEmitterBehavior,GcModal];</script>