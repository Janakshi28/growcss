<link rel="import" href="../../polymer/polymer.html"><link rel="import" href="../../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="import" href="../video-url-parser-behavior/video-url-parser-behavior.html"><!--
    <gc-ui-video-embed>`element <text>.

    Example:
        <gc-ui-video-embed></gc-ui-video-embed>

    @element gc-ui-video-embed
    @demo demo/index.html
--><dom-module id="gc-ui-video-embed"><template><style></style><template id="htmlvideo" is="dom-if" if="{{_html5video}}"><video id="gc-ui-video-embed-htmlvideo" height="{{_video-height}}" controls><content></content></video></template><template is="dom-if" if="{{_iframevideo}}"><iframe id="gc-ui-video-embed-videoprovider" width="{{_video-width}}" height="{{_video-height}}" src="{{_video-source}}" frameborder="0" allowfullscreen></iframe></template></template><script>"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Class=function(){function a(){_classCallCheck(this,a)}return _createClass(a,[{key:"beforeRegister",value:function(){this.is="gc-ui-video-embed",this.properties={source:{type:String,value:""},"_video-source":{type:String,value:""},"video-width":{type:String,value:""},"video-height":{type:String,value:""},"_video-width":{type:String,value:""},"_video-height":{type:String,value:""},_html5video:{type:Boolean,value:!1},_iframevideo:{type:Boolean,value:!1}},this.listeners={"iron-resize":"_onVideoResize"}}},{key:"ready",value:function(){var a=Polymer.dom(this).children,b=this.offsetWidth,c=""!==this["video-height"]?this["video-height"]:Math.round(b/16*9),d=this["video-width"];this["_video-height"]=c,a.length>=1?(this._html5video=!0,this.addEventListener("dom-change",function(){var a=this.querySelector("video");null!==a&&a.setAttribute("width",""!==d?d:"100%")})):""!==this.source&&(this._iframevideo=!0,this["_video-source"]=this.urlParser(this.source),this["_video-width"]=""!==d?d:"100%")}},{key:"_onVideoResize",value:function(){var a=this.offsetWidth;""===this["video-height"]&&(this["_video-height"]=Math.round(a/16*9))}},{key:"behaviors",get:function(){return[GrowCss.VideoUrlParser,Polymer.IronResizableBehavior]}}]),a}();Polymer(Class);</script></dom-module>