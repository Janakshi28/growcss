<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>midway-behavior</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <script src="@test-path/webcomponentsjs/webcomponents.min.js"></script>
    <script src="@test-path/web-component-tester/browser.js"></script>

    <link rel="import" href="@test-path/test-fixture/test-fixture.html">
    <link rel="import" href="../demo/midway-position.html">
    <style>
    .center-test {
        height: 300px;
        width: 300px;
        background: #000;
        color: #fff;
        text-align: center;
        display: block;
        z-index: 1;
      }

      .vertical-test {
        height: 200px;
        width: 200px;
        background: #000;
        color: #fff;
        text-align: center;
        display: block;
        z-index: 1;
      }

      .horizontal-test {
        height: 100px;
        width: 100px;
        background: #000;
        color: #fff;
        text-align: center;
        display: block;
        z-index: 1;
      }

      .center-all-test {
        height: 50px;
        width: 50px;
        background: red;
        color: #fff;
        text-align: center;
        display: block;
        z-index: 1;
      }
    </style>

  </head>
  <body unresolved>
    <test-fixture id="midway-position-center-fixture">
      <template>
        <midway-position><div class="center-test">center</div></midway-position>
      </template>
    </test-fixture>

    <test-fixture id="midway-position-horizontal-fixture">
      <template>
        <midway-position><div class="horizontal-test">horizontal</div></midway-position>
      </template>
    </test-fixture>

    <test-fixture id="midway-position-vertical-fixture">
      <template>
        <midway-position><div class="vertical-test">vertical</div></midway-position>
      </template>
    </test-fixture>

    <test-fixture id="midway-position-center-all-fixture">
      <template>
        <midway-position>
          <div class="center-all-test">center all</div>
          <div class="center-all-test">center all</div>
          <div class="center-all-test">center all</div>
        </midway-position>
      </template>
    </test-fixture>

    <script>
      suite('<midway-position>', function() {
        var testFixture;
        var testFixture2;
        var testFixture3;
        var testFixture4;

        setup(function() {
          testFixture = fixture('midway-position-center-fixture');
          testFixture2 = fixture('midway-position-horizontal-fixture');
          testFixture3 = fixture('midway-position-vertical-fixture');
          testFixture4 = fixture('midway-position-center-all-fixture');
        });

        test('test setup', function() {
          expect(document.querySelector('midway-position')).to.be.ok;
        });

        test('test if element is center and has all css style', function() {
          var center = testFixture.querySelector('.center-test');

          expect(center.classList.contains('midway-position-horizontal')).to.be.true;
          expect(center.classList.contains('midway-position-vertical')).to.be.true;
          expect(center.style.marginLeft).to.be.equal('-150px');
          expect(center.style.display).to.be.equal('inline');
          expect(center.style.position).to.be.equal('absolute');
          expect(center.style.left).to.be.equal('50%');
          expect(center.style.marginTop).to.be.equal('-150px');
          expect(center.style.top).to.be.equal('50%');
        });

        test('test if element is horizontal and has all css style', function() {
          var horizontal = testFixture2.querySelector('.horizontal-test');

          expect(horizontal.classList.contains('midway-position-horizontal')).to.be.true;
          expect(horizontal.style.marginLeft).to.be.equal('-50px');
          expect(horizontal.style.display).to.be.equal('inline');
          expect(horizontal.style.position).to.be.equal('absolute');
          expect(horizontal.style.left).to.be.equal('50%');
        });

        test('test if element is vertical and has all css style', function() {
          var vertical = testFixture3.querySelector('.vertical-test');

          expect(vertical.classList.contains('midway-position-vertical')).to.be.true;
          expect(vertical.style.display).to.be.equal('inline');
          expect(vertical.style.position).to.be.equal('absolute');
          expect(vertical.style.marginTop).to.be.equal('-100px');
          expect(vertical.style.top).to.be.equal('50%');
        });

        test('test if elements are centered and have all css style', function() {
          var all = testFixture4.querySelectorAll('.center-all-test');

          for (var i = all.length - 1; i >= 0; i--) {
            expect(all[i].classList.contains('midway-position-horizontal')).to.be.true;
            expect(all[i].classList.contains('midway-position-vertical')).to.be.true;
            expect(all[i].style.marginLeft).to.be.equal('-25px');
            expect(all[i].style.display).to.be.equal('inline');
            expect(all[i].style.position).to.be.equal('absolute');
            expect(all[i].style.left).to.be.equal('50%');
            expect(all[i].style.marginTop).to.be.equal('-25px');
            expect(all[i].style.top).to.be.equal('50%');
          }
        });
      });
    </script>

  </body>
</html>
